<!-- Topbar -->
<header class="topbar">
  <div class="brand">
    <img src="assets/logo-esprit.svg" alt="ESPRIT" onerror="this.style.display='none'">
    <span>ESPRIT</span>
  </div>

  <div class="spacer"></div>

  <div class="user-chip">
    <!-- Avatar: image si dispo, sinon initiales -->
    <ng-container *ngIf="user.avatar; else initialsTpl">
      <img class="avatar" [src]="user.avatar" alt="avatar">
    </ng-container>
    <ng-template #initialsTpl>
      <span class="avatar initials">{{ initials(user.name) }}</span>
    </ng-template>

    <div class="user-meta">
      <strong class="name">{{ user.name }}</strong>
      <span class="role">{{ user.roleLabel }}</span>
    </div>

    <a class="logout" routerLink="/auth/login">DÃ©connexion</a>
  </div>
</header>

<div class="wrap">
  <!-- ===== SIDEBAR ===== -->
  <aside class="sidebar">
    <div class="section">
      <div class="title">DASHBOARDS</div>

      <a routerLink="/app/funds" routerLinkActive="active">
        <span class="ico">ğŸ“Š</span> Fonds gÃ©rÃ©s
      </a>

      <a routerLink="/app/invest" routerLinkActive="active">
        <span class="ico">ğŸ’¼</span> Investissements
      </a>

      <a routerLink="/app/sicav" routerLinkActive="active">
        <span class="ico">ğŸ“ˆ</span> Operation SICAV
      </a>

      <a routerLink="/app/analyse" routerLinkActive="active">
        <span class="ico">ğŸ§ </span> Analyse globale
      </a>

      <a routerLink="/app/perf" routerLinkActive="active">
        <span class="ico">ğŸ†</span> Performance de Sofa
      </a>
    </div>

    <div class="section">
      <div class="title">MACHINE LEARNING</div>

      <a routerLink="/app/ml/rendement" routerLinkActive="active">
        <span class="ico">ğŸ§®</span> prÃ©dire niveau de rendement
      </a>

      <a routerLink="/app/ml/classer" routerLinkActive="active">
        <span class="ico">ğŸ§©</span> classer une sociÃ©tÃ©
      </a>

      <a routerLink="/app/ml/plusvalue" routerLinkActive="active">
        <span class="ico">ğŸ“ˆ</span> prÃ©dire plus value totale
      </a>

      <a routerLink="/app/ml/invest" routerLinkActive="active">
        <span class="ico">ğŸ“Š</span> PrÃ©dire investissement
      </a>
    </div>
  </aside>

  <!-- ===== CONTENU ===== -->
  <main class="main">
    <router-outlet></router-outlet>
  </main>
</div>
